<!DOCTYPE html>
<html>
<head>
  <title>КЛЕЙ</title>
  <script src="eel.js"></script>

  <link href="CSS.css" rel="stylesheet">

  <link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
</head>
<body style=background-color:#1E1E1E>

<div class="rectangle" >
</div>   

<button id="imageButton2"class="menu3-rectangle">
    <img src="True_micro.png" id="image2">
</button>

<button id="imageButton"class="menu2-rectangle">
    <img src="True_m.png" id="image">
</button>

<div id="menu1-rectangle" class="menu1-rectangle" style="display:block;"></div> <!-- Ненужная кнопка -->
<div id="menu4-rectangle" class="menu4-rectangle" style="display:none;"></div>
<div id="menu5-rectangle" class="menu5-rectangle" style="display:none;">6</div>
<div id="menu6-rectangle" class="menu6-rectangle" style="display:none;">7</div>
<div id="menu7-rectangle" class="menu7-rectangle" style="display:none;">8</div>
<div id="menu8-rectangle" class="menu8-rectangle" style="display:none;">PVA</div>

<div id="chat-window">
    <div id="message-box"></div>
</div>

<script src="eel.js"></script>
<script type="text/javascript">


document.getElementById('menu1-rectangle').style.display = 'block';
document.getElementById('imageButton').style.display = 'block';
document.getElementById('imageButton2').style.display = 'block';
document.getElementById('chat-window').style.display = 'block';
document.getElementById('menu5-rectangle').style.display = 'block';
document.getElementById('menu6-rectangle').style.display = 'block';
document.getElementById('menu7-rectangle').style.display = 'block';
document.getElementById('menu8-rectangle').style.display = 'block';

const button = document.getElementById('imageButton');
const image = document.getElementById('image');
let previousImageSource = image.src;

button.addEventListener('click', function() {
    if (image.src.endsWith('True_m.png')) {
        image.src = 'Folse_m.png';
        previousImageSource = 'True_m.png';
        eel.toggle_sound('Выключение звука')();
    } else {
        image.src = previousImageSource;
        eel.toggle_sound('Включение звука')();
    }
});

eel.expose(toggleMicrophone);
let microphoneState = true; // Изначальное состояние микрофона - включен

function toggleMicrophone() {
    const imageButton2 = document.getElementById('imageButton2');
    const image2 = document.getElementById('image2');
    
    if (microphoneState) {
        image2.src = 'Folse_micro.png';
        eel.enableMicrophone(false)();
        microphoneState = false;
    } else {
        image2.src = 'True_micro.png';
        eel.enableMicrophone(true)();
        microphoneState = true;
    }
}

// Привязываем функцию toggleMicrophone к событию клика на кнопке imageButton2
const imageButton2 = document.getElementById('imageButton2');
imageButton2.addEventListener('click', toggleMicrophone);
        
</script>

<script>
function send_message_to_chat(message) {
            var chatWindow = document.getElementById('chat-window');
            var messageElement = document.createElement('div');
            messageElement.classList.add('message'); // Добавляем класс для стилизации
            messageElement.textContent = message;
            chatWindow.appendChild(messageElement);
        }

eel.expose(send_message_to_chat);

// Отправляем "Добро пожаловать" при запуске программы

</script>

</body>
</html>